### 2. AdÄ±m: SQL Injection â€“ Veri TabanÄ±nÄ±n KapÄ±sÄ±nÄ± Ã‡almak

SQL Injection (SQLi), web gÃ¼venliÄŸinin en sÄ±k rastlanan ve tehlikeli aÃ§Ä±klarÄ±ndan biridir. Bir saldÄ±rganÄ±n, web uygulamasÄ±nda kullanÄ±lan SQL sorgularÄ±na kendi zararlÄ± komutlarÄ±nÄ± eklemesine dayanÄ±r. Bu aÃ§Ä±k, veri tabanÄ± kontrolÃ¼nÃ¼ ele geÃ§irme, hassas bilgileri Ã§alma veya sistemi tamamen Ã§Ã¶kertme gibi ciddi sonuÃ§lar doÄŸurabilir. Åimdi bu konuyu hem teorik hem pratik bir ÅŸekilde inceleyelim.

---

### 2.1 SQL Injection Nedir?

Ã–ncelikle, SQL Injection'Ä±n nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± anlamak iÃ§in basit bir Ã¶rnek dÃ¼ÅŸÃ¼nelim. Tipik bir login formu ÅŸu ÅŸekilde bir SQL sorgusu oluÅŸturabilir:

```sql
SELECT * FROM users WHERE username = 'user_input' AND password = 'user_password';
```

SaldÄ±rgan, `user_input` kÄ±smÄ±na ÅŸu zararlÄ± girdiyi yazabilir:

```sql
' OR '1'='1
```

SonuÃ§ olarak sorgu ÅŸu hale gelir:

```sql
SELECT * FROM users WHERE username = '' OR '1'='1' AND password = '';
```

Bu ne anlama geliyor? `'1'='1'` her zaman doÄŸru olduÄŸu iÃ§in, veri tabanÄ± bu sorguyu Ã§alÄ±ÅŸtÄ±rÄ±r ve saldÄ±rganÄ± doÄŸrulama olmadan giriÅŸ yapmÄ±ÅŸ gibi gÃ¶sterir.

---

### 2.2 SQL Injection TÃ¼rleri

SQL Injection saldÄ±rÄ±larÄ± birkaÃ§ farklÄ± ÅŸekilde yapÄ±labilir. Ä°ÅŸte en yaygÄ±n tÃ¼rleri:

#### **1. Klasik SQL Injection**
Sorguya doÄŸrudan zararlÄ± giriÅŸ yapÄ±lÄ±r. Ã–rneÄŸin, yukarÄ±daki `' OR '1'='1` gibi.

#### **2. Blind SQL Injection (KÃ¶r SQLi)**
Uygulama, sorgunun sonucunu doÄŸrudan gÃ¶stermiyor ama dolaylÄ± yanÄ±tlar veriyor. Ã–rneÄŸin:

- **DoÄŸru sorgu:** Sayfa yÃ¼klenir.
- **YanlÄ±ÅŸ sorgu:** Sayfa hata verir.

Bu tÃ¼r SQLi'de, sorgularÄ± yavaÅŸ yavaÅŸ test ederek hassas bilgileri Ã§Ä±karÄ±rsÄ±nÄ±z.

#### **3. Union-Based SQL Injection**
SaldÄ±rgan, veri tabanÄ±nÄ±n diÄŸer tablolarÄ±ndan veri Ã§ekmek iÃ§in `UNION` komutunu kullanÄ±r:

```sql
' UNION SELECT username, password FROM users --
```

#### **4. Time-Based Blind SQL Injection**
SorgularÄ±n sonucunu test etmek iÃ§in zamanlama tabanlÄ± teknikler kullanÄ±lÄ±r. Ã–rneÄŸin:

```sql
' OR IF(1=1, SLEEP(5), 0) --
```

Bu saldÄ±rÄ±da, uygulamanÄ±n yanÄ±t sÃ¼resi saldÄ±rÄ±nÄ±n baÅŸarÄ±lÄ± olup olmadÄ±ÄŸÄ±nÄ± gÃ¶sterir.

---

### 2.3 Pratik: DVWA Ãœzerinde SQL Injection Deneyimi

#### **AdÄ±m 1: DVWA Kurulumu**
EÄŸer henÃ¼z yapmadÄ±ysan [DVWA](http://dvwa.co.uk/) (Damn Vulnerable Web Application) indir ve kur. DVWA, Ã¶ÄŸrenme ve test amaÃ§lÄ± gÃ¼venlik aÃ§Ä±klarÄ±yla dolu bir platformdur.

#### **AdÄ±m 2: SQL Injection ModÃ¼lÃ¼**
- DVWAâ€™da SQL Injection seviyesini **Low** olarak ayarla.
- KullanÄ±cÄ± arama formunda ÅŸunu dene:

```sql
' OR '1'='1 --
```

#### **AdÄ±m 3: Tablo KeÅŸfi**
SQL Injection ile yalnÄ±zca giriÅŸ yapmayÄ± deÄŸil, veri tabanÄ±nÄ± keÅŸfetmeyi de Ã¶ÄŸrenebilirsin. ÅÃ¶yle bir sorgu deneyebilirsin:

```sql
' UNION SELECT 1, database(), 3 --
```

Bu sorgu, mevcut veri tabanÄ±nÄ±n adÄ±nÄ± dÃ¶ndÃ¼rÃ¼r.

---

### 2.4 SQL Injectionâ€™dan Korunma YÃ¶ntemleri

SQL Injectionâ€™Ä± Ã¶nlemek iÃ§in birden fazla yÃ¶ntem kullanmalÄ±yÄ±z. Ä°ÅŸte temel savunma mekanizmalarÄ±:

#### **1. Parametrik Sorgular (Prepared Statements)**
KullanÄ±cÄ± girdisini sorgu dizisinin dÄ±ÅŸÄ±nda tutarak zararlÄ± komutlarÄ±n Ã§alÄ±ÅŸmasÄ±nÄ± engeller.

Ã–rnek PHP kodu:

```php
$stmt = $conn->prepare("SELECT * FROM users WHERE username = ? AND password = ?");
$stmt->bind_param("ss", $username, $password);
$stmt->execute();
```

#### **2. Input Validation**
KullanÄ±cÄ±dan gelen verileri doÄŸrula. Ã–rneÄŸin, yalnÄ±zca alfanumerik karakterlere izin ver.

#### **3. Veri TabanÄ± Yetkilendirmesi**
UygulamanÄ±n kullandÄ±ÄŸÄ± veri tabanÄ± kullanÄ±cÄ± hesabÄ±na minimum yetkiler ver. Ã–rneÄŸin, yalnÄ±zca `SELECT` ve `INSERT` yetkisi tanÄ±mlanabilir.

#### **4. Web Uygulama GÃ¼venlik DuvarÄ± (WAF)**
Bir WAF, SQL Injection giriÅŸimlerini algÄ±layarak otomatik olarak engeller.

---

### 2.5 KapanÄ±ÅŸ: SQL Injectionâ€™Ä± UygulamalÄ± Ã–ÄŸrenmek

SQL Injection, Ã¶ÄŸrenmesi kolay ama etkisi Ã§ok bÃ¼yÃ¼k bir aÃ§Ä±k. Ä°lk baÅŸta DVWA gibi gÃ¼venli ortamlarda bu saldÄ±rÄ± tÃ¼rÃ¼nÃ¼ deneyimlemen Ã§ok Ã¶nemli. ArdÄ±ndan gerÃ§ek sistemlerde, bu aÃ§Ä±klarÄ± nasÄ±l tespit edip engelleyebileceÄŸini anlaman gerekir.

Unutma, SQL Injection gibi saldÄ±rÄ±lar sadece giriÅŸ kapÄ±sÄ±dÄ±r. Bir saldÄ±rgan bir kez iÃ§eri girdiÄŸinde, sistemin diÄŸer parÃ§alarÄ±nÄ± da hedef alabilir. Bu yÃ¼zden savunmayÄ± bÃ¼tÃ¼ncÃ¼l dÃ¼ÅŸÃ¼nmelisin.

HazÄ±r olduÄŸunda bir sonraki adÄ±ma geÃ§elim: **[Cross-Site Scripting (XSS)](./3.md)** ğŸ˜Š
